/* Type annotation test — verifies :: declarations parse and check correctly */

/* Simple function types */
double :: Num : Num
double x = x * 2

add :: Num : Num : Num
add a b = a + b

greeting :: Str : Str
greeting name = "Hello, " + name

/* Record types */
Point :: {x = Num; y = Num}

mkPoint :: Num : Num : Point
mkPoint x y = Point {x = x; y = y}
  Point = {x = 0; y = 0}

/* Case inference — all alts should return same type */
classify :: Num : Str
classify x = x ->
  0 = "zero"
  1 = "one"
  _ = "other"

/* With bindings — local scope type inference */
compute :: Num : Num
compute x = result
  doubled = x * 2
  result = doubled + 1

/* Unannotated functions work fine too */
triple x = x * 3

/* Test everything works */
main = result
  p = mkPoint 3 4
  result = add (double p.x) (triple p.y)
/* expect: 26 */
