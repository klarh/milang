xs = [
  10,
  20,
  30
]

result = (
  1 + 2 +
  3 + 4
)

piped = (xs |>
  map (\x -> x * 2) |>
  fold (+) 0)

-- Multi-line function application requires parens
classify x = (if (x > 0)
  ~"positive"
  ~(if (x == 0)
    ~"zero"
    ~"negative"))

-- Match arrows inside brace blocks
transform val = result {
  result = val ->
    0 = "zero"
    _ = "other"
}

-- Multi-line lambda body in parens
inc = (\x ->
  x + 1)

-- Multi-line function call in parens
add x y = x + y
added = (add
  10
  20)

-- Nested multi-line lambdas
nested = ((\f ->
  (\x ->
    f x + 1))
  (\n -> n * 2)
  5)

main world =
  world.io.println (toString (result + piped))
  world.io.println (classify 5)
  world.io.println (classify 0)
  world.io.println (classify (0 - 3))
  world.io.println (transform 0)
  world.io.println (transform 42)
  world.io.println (toString (inc 5))
  world.io.println (toString added)
  world.io.println (toString nested)
