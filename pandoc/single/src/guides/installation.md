[Header 1 ("installation", [], []) [Str "Installation"], Para [Str "Milang is built from source using the Haskell toolchain and compiles programs to C via ", Code ("", [], []) "gcc", Str "."], Header 2 ("pre-built-binaries", ["unnumbered", "unlisted"], []) [Str "Pre-built Binaries"], Para [Str "Automated builds for Windows, macOS, and Linux (static) are available at:", SoftBreak, Strong [Link ("", [], []) [Str "https://github.com/klarh/milang/actions/workflows/build.yml"] ("https://github.com/klarh/milang/actions/workflows/build.yml", "")]], Para [Str "Download the artifact for your platform from any successful workflow run — no Haskell toolchain needed."], Header 2 ("prerequisites", ["unnumbered", "unlisted"], []) [Str "Prerequisites"], Para [Str "You need three things installed:"], Table ("", [], []) (Caption Nothing []) [(AlignDefault, (ColWidth 0.1935483870967742)), (AlignDefault, (ColWidth 0.5161290322580645)), (AlignDefault, (ColWidth 0.2903225806451613))] (TableHead ("", [], []) [Row ("", [], []) [Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Str "Tool"]], Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Str "Minimum version"]], Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Str "Purpose"]]]]) [(TableBody ("", [], []) (RowHeadColumns 0) [] [Row ("", [], []) [Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Strong [Str "GHC"]]], Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Str "9.6+"]], Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Str "Haskell compiler (builds the milang compiler itself)"]]], Row ("", [], []) [Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Strong [Str "cabal"]]], Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Str "3.10+"]], Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Str "Haskell build tool"]]], Row ("", [], []) [Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Strong [Str "gcc"]]], Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Str "any recent"]], Cell ("", [], []) AlignDefault (RowSpan 0) (ColSpan 0) [Plain [Str "C compiler (milang emits C, then calls gcc to produce binaries)"]]]])] (TableFoot ("", [], []) []), Header 3 ("ubuntu--debian", ["unnumbered", "unlisted"], []) [Str "Ubuntu / Debian"], CodeBlock ("", ["bash"], []) "sudo apt install ghc cabal-install build-essential
", Header 3 ("arch-linux", ["unnumbered", "unlisted"], []) [Str "Arch Linux"], CodeBlock ("", ["bash"], []) "sudo pacman -S ghc cabal-install base-devel
", Header 3 ("macos-homebrew", ["unnumbered", "unlisted"], []) [Str "macOS (Homebrew)"], CodeBlock ("", ["bash"], []) "brew install ghc cabal-install gcc
", Header 2 ("building-from-source", ["unnumbered", "unlisted"], []) [Str "Building from Source"], Para [Str "Clone the repository and build:"], CodeBlock ("", ["bash"], []) "git clone <repository>
cd milang
make
", Para [Code ("", [], []) "make", Str " runs ", Code ("", [], []) "cabal build", Str " inside the ", Code ("", [], []) "core/", Str " directory."], Para [Str "If you prefer to do it manually:"], CodeBlock ("", ["bash"], []) "cd core
cabal update
cabal build
", Para [Str "For a statically linked compiler build (Linux) using Podman, you can use the provided Makefile in the core/ directory:"], CodeBlock ("", ["bash"], []) "cd core
make -f Makefile.static
# now ./milang is available
", Header 2 ("verifying-the-installation", ["unnumbered", "unlisted"], []) [Str "Verifying the Installation"], Para [Str "Start the REPL to confirm everything works:"], CodeBlock ("", ["bash"], []) "./milang repl
", Para [Str "You should see a ", Code ("", [], []) "λ>", Str " prompt. Try evaluating an expression:"], CodeBlock ("", ["text"], []) "λ> 2 + 3
5
", Para [Str "Press Ctrl-D to exit."], Para [Str "Run the test suite to make sure the compiler is healthy:"], CodeBlock ("", ["bash"], []) "make test
", Para [Str "This compiles and runs every ", Code ("", [], []) ".mi", Str " file in the repository's test suite. A successful run prints something like ", Code ("", [], []) "Passed: 60, Failed: 0", Str "."]]